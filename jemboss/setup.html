<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.77 [en] (X11; U; SunOS 5.8 sun4u) [Netscape]">
</head>
<body text="#000000" bgcolor="#FFFFFF" link="#0000EE" vlink="#551A8B" alink="#FF0000">

<center>
<h1>
<img SRC="images/Jemboss_logo_large.gif" height=110 width=240></h1></center>

<h1>
<font size=+2>Installation and Setup</font></h1>

<p><br>&nbsp;&nbsp;&nbsp; <a href="http://www.hgmp.mrc.ac.uk/Software/EMBOSS/Jemboss/">A
Jemboss server</a> is available at the HGMP for registered users. The user
can download the client from a web-page using Java Web Start. In this way
any updates to the client can be automatically detected and downloaded.
<p>&nbsp;&nbsp;&nbsp; Jemboss uses Java Native Interface (JNI) to enable
it to utilise the EMBOSS ajax library. This is used to calculate sequence
attributes from any of the numerous formats that EMBOSS can use.
<p>&nbsp;&nbsp;&nbsp; Jemboss currently uses Embreo which is still being
developed at the HGMP, to make SOAP calls to the server.
<p>&nbsp;&nbsp;&nbsp; Note, this software has been developed and tested,
so far,&nbsp; using Java1.3.
<br>&nbsp;
<h2>
Directories</h2>
&nbsp;
<table BORDER WIDTH="80%" NOSAVE >
<tr>
<td><b>Directory</b></td>

<td><b>Contents</b></td>
</tr>

<tr>
<td>api</td>

<td>Jemboss API&nbsp;</td>
</tr>

<tr>
<td>lib</td>

<td>related java jar files (soap etc)</td>
</tr>

<tr>
<td>resources</td>

<td>Jemboss property file</td>
</tr>

<tr>
<td>org/emboss/jemboss</td>

<td>Jemboss package</td>
</tr>

<tr>
<td>embreo</td>

<td>Embreo package</td>
</tr>
</table>

<h2>
<font size=-2>&nbsp;</font></h2>

<h2>
Client Compilation</h2>
<b>1.</b> Goto the Jemboss directory.
<p><b>2. </b>Set the classpath
<br>setenv CLASSPATH :lib/soap.jar:lib/xerces.jar:lib/mail.jar:lib/activation.jar:lib/jakarta-regexp-1.2.jar:embreo/embreo-full.jar:.:
<p><b>3. </b>Compile with java 1.3
<br>javac org/emboss/jemboss/Jemboss.java
<p><b>4. </b>If you are running in the stand-alone mode (i.e. not using
the server code),
<br>set the environment variable LD_LIBRARY_PATH:
<p>setenv LD_LIBRARY_PATH $emboss/ajax/.libs (where $emboss is the directory
of your local EMBOSS installation).
<p><b>Note:&nbsp; </b>To configure EMBOSS to use the Java Native Interface
in Jemboss a "--with-java" and "--with-javaos" need to be used, and pointed
at the java (1.3) installation. For example:
<p>./configure --enable-warnings --with-pngdriver=/packages/emboss/png
--with-java=/packages/java/jdk1.3/include&nbsp; --with-javaos=/packages/java/jdk1.3/include/solaris
<p>and must not be configured using the --disable-shared configure option.
<p><b>5.</b> Also, if you are running the standalone version the jemboss.properties
file needs to be setup. This file needs to be in the users home directory
or the Jemboss resources directory. This file contains the environment
variables that are used to run the EMBOSS applications.
<p>For the <b>standalone mode </b>it therefore contains the path information.
For example:
<p>plplot=/home/emboss/STABLE/share/EMBOSS/
<br>embossData=/home/emboss/STABLE/share/EMBOSS/data/
<br>embossBin=/home/emboss/STABLE/share/EMBOSS/
<br>embossPath=/bin:/home/clustal/:
<br>acdDirToParse=/packages/emboss/STABLE/share/EMBOSS/acd/
<p>For the <b>client </b>version it will contain the server information.
For example:
<p>user.auth=true
<br>server.public=http://pubsoap1.hgmp.mrc.ac.uk/soap/servlet/rpcrouter
<br>server.private=http://privsoap2.hgmp.mrc.ac.uk/cgi-bin/soap.cgi
<br>service.public=JembossServer
<br>service.private=EmbossSoap
<p>The first line in this example (user.auth) means that the server is
expecting a username and password, to be able to run the EMBOSS applications.
The next two lines are the location of the public and private servers,
that the Jemboss client is expecting to access. The last lines in this
file are the names of the two servers.
<p><b>6</b>. To run Jemboss client (client-server mode):
<p>java org/emboss/Jemboss/Jemboss &amp;
<p>or, in the standalone:
<p>java org/emboss/Jemboss/Jemboss local &amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<br>&nbsp;
<h1>
<font size=+2>Server Setup</font></h1>
&nbsp;&nbsp;&nbsp; The server setup is very much dependent on the local
environment and the level of security necessary for that site. The server
that is in the distribution is very much in development. It will be necessary
for any other site to design their own method of deploying these soap service
methods that the client accesses.
<p>&nbsp;&nbsp;&nbsp;&nbsp; The Jemboss server at the HGMP uses two servers.
The first is a public server (no authentication necessary), which serves
to launch Jemboss and display the program forms and help. To run any of
the applications a second, private server is used which requires the username
and password to be provided by the user.
<p>&nbsp;&nbsp;&nbsp; The Java server code is in org.emboss.jemboss.server.JembossServer
class (and the classes uses org.emboss.jemboss.Ajax org.emboss.jemboss.RunEmbossApplication).
This is used for the public Jemboss server at the HGMP. The public methods
are then deployed using an Apache TomCat server.
<p>&nbsp;&nbsp;&nbsp; At present most of the private and public server
methods (except those used by the job manager) are provided by this Java
server. However, the private server used at the HGMP runs as a perl script
and this is also provided in the distribution.
<br>&nbsp;
<h2>
Acknowledgements:</h2>
The EMBOSS&nbsp;development team. In particular, Alan Bleasby for his contribution
to the JNI code, to call the EMBOSS ajax library.
<br>This product includes software developed by the Apache Software Foundation
(http://www.apache.org/).
<br>&nbsp;
<br>&nbsp;
<p>
<hr WIDTH="100%">
<br><i>tcarver@hgmp.mrc.ac.uk</i>
<br>&nbsp;
</body>
</html>
